<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper 
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
        
<mapper namespace ="envio">

 <!-- ENVIOS ASIGNADOS -->
<select id="obtener-envios-por-conductor" parameterType="int"  resultType="dto.RSEnvioLista">
    SELECT 
        e.idEnvio,
        e.numeroGuia,
        CONCAT(d.calle, ' ', d.numero, ', ', d.colonia, ', ',
               d.codigoPostal, ', ', d.ciudad) AS direccionDestino,
        es.nombre AS estatus
    FROM Envio e
        INNER JOIN Direccion d ON d.idDireccion = e.idDireccionDestino
        INNER JOIN Estatus es ON es.idEstatus = e.idEstatus
    WHERE e.idColaborador = #{idColaborador};
</select>
</mapper>

